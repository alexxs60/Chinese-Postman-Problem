\# 中国邮路问题（Chinese Postman Problem）课程设计



一个基于 C++ 的中国邮路问题求解程序，用于求解邮递员遍历所有街道（边）至少一次的最短闭合路径。



\## 项目功能



\- 支持键盘输入和文件输入无向加权图

\- 使用 Floyd-Warshall 算法计算所有节点间最短路径

\- 自动识别奇度节点，并使用递归方式求最小完美匹配（配对奇度节点）

\- 通过添加重复边（最短路径）使图变为欧拉图

\- 使用 Hierholzer 算法高效求解欧拉回路

\- 输出最优投递路线（从指定起始节点开始）和总路程

\- 包含简单的连通性检查和路径完整性验证

\- 支持多重边（使用 multiset 实现）



\## 技术栈



\- 语言：C++11（兼容大多数编译器）

\- 主要算法：

&nbsp; - Floyd-Warshall（最短路径）

&nbsp; - 递归最小完美匹配（奇度节点配对）

&nbsp; - Hierholzer 算法（欧拉回路）

\- 数据结构：邻接矩阵、multiset（处理重复边）



\## 编译与运行



\### 要求

\- 编译器：g++ / Visual Studio / MinGW / Clang（支持 C++11）

\- 无需额外库（标准库即可）



\### 编译命令

g++ -std=c++11 main.cpp -o chinese\_postman



\# 或更安全的写法（防止溢出等）

g++ -std=c++11 -O2 main.cpp -o chinese\_postman



\### 运行

./chinese\_postman

\# 或 Windows 下

chinese\_postman.exe



程序启动后会提示选择输入方式：

1\. 文件输入（推荐，准备好 test\*.txt 文件）

2\. 键盘输入



\## 测试用例



项目包含以下测试文件（放在同一目录下）：



文件名       描述                     奇度节点数  预期总路程  备注

test1.txt    所有节点度数均为偶数     0          28         直接欧拉回路

test2.txt    4 个奇度节点             4          42         需要添加最小匹配

test3.txt    4 个奇度节点（路径匹配） 4          14         包含最短路径多段添加



\### 示例文件内容（test1.txt）

4 4 0

0 1 4

1 2 6

2 3 8

3 0 10



运行后选择文件输入 → 输入 test1.txt → 查看输出路线和总路程。



\## 项目结构



Chinese-Postman-Problem/

├── main.cpp          # 主程序（或源.cpp）

├── test1.txt         # 测试用例1：全偶度

├── test2.txt         # 测试用例2：4奇度

├── test3.txt         # 测试用例3：路径匹配

└── README.md         # 本说明文件



\## 注意事项



\- 节点编号从 0 开始

\- 图必须连通，否则程序会提示不连通

\- 奇度节点过多（>12 个）时匹配速度较慢（指数级递归），适合课程设计小规模数据

\- 权重应为正整数（负权或零权未测试）

\- 输出路线可能因邻接选择顺序不同而有多种等价解，但总路程固定正确



\## 改进方向（可选扩展）



\- 使用动态规划优化奇度匹配（取代递归）

\- 添加图的可视化（输出 DOT 文件，用 Graphviz 画图）

\- 支持有向图的中国邮路问题

\- 加入时间/内存性能统计



\## 作者



\- Display Name: kira

\- 完成时间：2026年



欢迎 Star / Fork / 提 Issue！

